{"version":3,"sources":["modules/hooks/useLocalStorage.js","modules/hooks/useFetch.js","modules/components/tagList.js","modules/components/addToFavorites.js","modules/components/feed.js","modules/utils.js","modules/components/pagination.js","modules/components/popularTags.js","modules/contexts/currentUser.js","modules/components/feedToggler.js","modules/pages/globalFeed/index.js","modules/pages/article/index.js","modules/pages/tagFeed/index.js","modules/components/backendErrorMessages.js","modules/pages/settings/index.js","modules/pages/yourFeed/index.js","modules/components/articleForm.js","modules/pages/createArticle/index.js","modules/pages/editArticle/index.js","modules/pages/authentication/index.js","modules/pages/userProfile/components/userArticles.js","modules/pages/userProfile/index.js","modules/routes.js","modules/components/topBar.js","modules/components/currentUserChecker.js","App.js","index.js"],"names":["key","initialValue","useState","localStorage","getItem","value","setValue","useEffect","setItem","url","isLoading","setIsLoading","response","setResponse","error","setError","options","setOptions","useLocalStorage","token","doFetch","useCallback","requestOptions","headers","authorization","axios","then","res","data","catch","err","TagList","tags","className","map","tag","AddToFavorites","isFavorited","favoritesCount","articleSlug","useFetch","isFavoritedWithResponse","article","favorited","favoritesCountWithResponse","buttonClasses","classNames","btn","onClick","e","preventDefault","method","Feed","articles","index","to","process","author","username","src","image","alt","userName","createdAt","slug","title","description","tagList","getPaginator","search","parsedSearch","parse","currentPage","page","Number","offset","PaginationItem","liClasses","classnames","active","Pagination","start","end","total","limit","pagesCount","Math","ceil","pages","Array","keys","el","PopularTags","initialState","isLogged","currentUser","reducer","state","type","payload","CurrentUserContext","createContext","CurrentUserProvider","children","useReducer","Provider","FeedToggler","tagName","useContext","currentUserState","exact","GlobalFeed","location","match","stringifiedParams","stringify","apiUrl","articlesCount","Article","props","params","fetchArticleIsLoading","fetchArticleError","fetchArticleResponse","deleteArticleResponse","doDeleteArticle","isSuccessfulDelete","setIsSuccessfulDelete","body","TagFeed","console","log","BackendErrorMessages","backendErrors","errorMessages","Object","name","messages","join","errorMessage","Settings","dispatch","setToken","isSuccessfulLogout","setIsSuccessfulLogout","setImage","setUsername","bio","setBio","email","setEmail","password","setPassword","user","errors","onSubmit","placeholder","onChange","target","rows","YourFeed","ArticleForm","initialValues","setTitle","setBody","setDescription","setTagList","event","CreateArticle","isSuccessfulSubmit","setIsSuccessfulSubmit","EditArticle","doFetchArticle","updateArticleResponse","updateArticleError","doUpdateArticle","setInitialValues","Authentication","isLogin","path","pageTitle","descriptionLink","descriptionText","disabled","UserArticles","isFavorites","getApiUrl","UserProfile","pathname","includes","profile","component","TopBar","CurrentUserChecker","App","ReactDOM","render","document","getElementById"],"mappings":"wPAEe,WAACA,GAA2B,IAAtBC,EAAqB,uDAAN,GAAM,EACZC,oBAAS,WAC/B,OAAOC,aAAaC,QAAQJ,IAAQC,KAFF,mBAC/BI,EAD+B,KACxBC,EADwB,KAStC,OAJAC,qBAAU,WACNJ,aAAaK,QAAQR,EAAKK,KAC3B,CAACL,EAAKK,IAEF,CAACA,EAAOC,ICNJ,WAAAG,GAEX,IAFiB,EAGiBP,oBAAS,GAH1B,mBAGVQ,EAHU,KAGCC,EAHD,OAIeT,mBAAS,MAJxB,mBAIVU,EAJU,KAIAC,EAJA,OAKSX,mBAAS,MALlB,mBAKVY,EALU,KAKHC,EALG,OAMab,mBAAS,IANtB,mBAMVc,EANU,KAMDC,EANC,OAODC,EAAgB,SAAzBC,EAPU,oBAUXC,EAAUC,uBAAY,WAAgB,IAAfL,EAAc,uDAAN,GACjCC,EAAWD,GACXL,GAAa,KACd,IA0BH,OAxBAJ,qBAAU,WACN,IAAMe,EAAc,2BACbN,GACA,CACCO,QAAQ,CACJC,cAAeL,EAAM,SAAD,OAAWA,GAAS,MAIhDT,GAEJe,IAxBY,yCAwBIhB,EAAKa,GACpBI,MAAK,SAAAC,GAEFhB,GAAa,GACbE,EAAYc,EAAIC,SAEnBC,OAAM,SAAAC,GAEHnB,GAAa,GACbI,EAASe,EAAIlB,SAASgB,WAE3B,CAAClB,EAAWM,EAASP,EAAKU,IAEtB,CAAC,CAACT,YAAWE,WAAUE,SAAQM,IC5B3BW,EAdC,SAAC,GAAc,IAAZC,EAAW,EAAXA,KACf,OACI,wBAAIC,UAAU,YACTD,EAAKE,KAAI,SAAAC,GACN,OACI,wBAAIF,UAAU,mCAAmCjC,IAAKmC,GACjDA,Q,iBCyBVC,EA5BQ,SAAC,GAA+C,IAA9CC,EAA6C,EAA7CA,YAAaC,EAAgC,EAAhCA,eAAgBC,EAAgB,EAAhBA,YAAgB,EACpCC,EAAS,aAAD,OAAcD,EAAd,cAD4B,mBAC1D3B,EAD0D,KAC1DA,SAAWQ,EAD+C,KAQ5DqB,EAA0B7B,EAAUA,EAAS8B,QAAQC,UAAWN,EAChEO,EAA6BhC,EAAUA,EAAS8B,QAAQJ,eAAgBA,EACxEO,EAAeC,IAAW,CAC5BC,KAAK,EACL,UAAU,EACV,cAAeN,EACf,uBAAwBA,IAG5B,OACI,4BACIR,UAAWY,EACXG,QAlBU,SAAAC,GACdA,EAAEC,iBACF9B,EAAQ,CACJ+B,OAAQV,EAAyB,SAAU,WAiB3C,uBAAGR,UAAU,cACb,sCAAcW,KCeXQ,EArCF,SAAC,GAAe,IAAdC,EAAa,EAAbA,SACX,OACI,6BACKA,EAASnB,KAAI,SAACQ,EAASY,GACpB,OACI,yBAAKrB,UAAU,kBAAkBjC,IAAKsD,GAClC,yBAAKrB,UAAU,gBACX,kBAAC,IAAD,CAAMsB,GAAE,UAAKC,gBAAL,qBAAiDd,EAAQe,OAAOC,WACpE,yBAAKC,IAAKjB,EAAQe,OAAOG,MAAOC,IAAI,OAG5C,yBAAK5B,UAAU,QACX,kBAAC,IAAD,CAAMsB,GAAE,UAAMC,gBAAN,qBAAkDd,EAAQe,OAAOC,WACpEhB,EAAQe,OAAOK,UAEpB,0BAAM7B,UAAU,QAAQS,EAAQqB,YAEpC,yBAAK9B,UAAU,iBACX,kBAAC,EAAD,CACII,YAAeK,EAAQC,UACvBL,eAAkBI,EAAQJ,eAC1BC,YAAaG,EAAQsB,QAG7B,kBAAC,IAAD,CAAMT,GAAE,UAAKC,gBAAL,oBAAgDd,EAAQsB,MAAQ/B,UAAU,gBAC9E,4BAAKS,EAAQuB,OACb,2BAAIvB,EAAQwB,aACZ,8CACA,kBAAC,EAAD,CAASlC,KAAMU,EAAQyB,iB,QC1BtCC,EAAe,SAAAC,GACxB,IAAMC,EAAeC,gBAAMF,GACrBG,EAAcF,EAAaG,KAAMC,OAAOJ,EAAaG,MAAO,EAElE,MAAO,CAACD,cAAaG,OADQ,GAAdH,EALE,KCAfI,EAAiB,SAAC,GAA6B,IAA5BH,EAA2B,EAA3BA,KAAMD,EAAqB,EAArBA,YAAa/D,EAAQ,EAARA,IAClCoE,EAAYC,IAAW,CACzB,aAAa,EACbC,OAAQP,IAAgBC,IAE5B,OACI,wBAAIxC,UAAW4C,GACX,kBAAC,IAAD,CAAMtB,GAAE,UAAKC,gBAAL,YAAwC/C,EAAxC,iBAAoDgE,GAAQxC,UAAU,aACzEwC,KAyBFO,EAnBI,SAAC,GAAqC,IDlBnCC,EAAOC,ECkBRC,EAAmC,EAAnCA,MAAOC,EAA4B,EAA5BA,MAAO3E,EAAqB,EAArBA,IAAK+D,EAAgB,EAAhBA,YAC9Ba,EAAaC,KAAKC,KAAKJ,EAAQC,GAC/BI,GDpBYP,ECoBE,EDpBKC,ECoBFG,EDnBhB,YAAII,MAAMP,GAAKQ,QAAQxD,KAAI,SAAAyD,GAAE,OAAEA,EAAGV,MCoBzC,OACI,wBAAIhD,UAAU,cAENuD,EAAMtD,KAAI,SAAAuC,GAAI,OACV,kBAAC,EAAD,CACIA,KAAMA,EACND,YAAaA,EACb/D,IAAKA,EACLT,IAAKyE,SCAdmB,EA3BK,WAAM,IAAD,EAC2BpD,EAAS,SADpC,0BACb5B,EADa,EACbA,SAAUE,EADG,EACHA,MAAOJ,EADJ,EACIA,UAAYU,EADhB,KAKrB,OAHAb,qBAAU,WACNa,MACD,CAACA,IAEA,6BACKN,GAAS,sCACTJ,GAAa,4CACZA,GAAaE,GACX,yBAAKqB,UAAU,YACX,2CACA,yBAAKA,UAAU,YACVrB,EAASoB,KAAKE,KAAI,SAAAC,GACf,OACI,kBAAC,IAAD,CAAMoB,GAAE,UAAKC,gBAAL,iBAA6CrB,GAAOF,UAAU,uBAAuBjC,IAAKmC,GAC7FA,UCjB/B0D,EAAe,CACjBnF,WAAW,EACXoF,SAAU,KACVC,YAAa,MAGXC,EAAU,SAACC,EAAD,GAA+B,IAArBC,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,QAC5B,OAAQD,GACJ,IAAK,UACD,OAAO,2BACAD,GADP,IACcvF,WAAW,IAE7B,IAAK,iBACD,OAAO,2BACAuF,GADP,IAEIH,UAAU,EACVpF,WAAW,EACXqF,YAAaI,IAErB,IAAK,mBACD,OAAO,2BACAF,GADP,IAEIH,UAAU,IAElB,IAAK,SACD,OAAO,2BACAD,GADP,IAEIC,UAAU,IAElB,QAAS,OAAOG,IAIXG,EAAqBC,wBAAc,CAAC,GAAI,eAExCC,EAAsB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAM5BlG,EAAQmG,qBAAWR,EAASH,GAClC,OACI,kBAACO,EAAmBK,SAApB,CAA6BpG,MAAOA,GAC/BkG,ICXEG,EA/BK,SAAC,GAAc,IAAbC,EAAY,EAAZA,QAAY,EACHC,qBAAWR,GAA/BS,EADuB,oBAG9B,OACI,yBAAK5E,UAAU,eACX,wBAAIA,UAAU,gCACT4E,EAAiBf,UACd,wBAAI7D,UAAU,YACV,kBAAC,IAAD,CAASsB,GAAE,UAAKC,gBAAL,SAA6CvB,UAAU,YAAlE,cAKR,wBAAIA,UAAU,YACV,kBAAC,IAAD,CAASsB,GAAE,UAAKC,gBAAL,KAAyCvB,UAAU,WAAW6E,OAAK,GAA9E,gBAIHH,GACG,wBAAI1E,UAAU,YACV,kBAAC,IAAD,CAASsB,GAAE,UAAKC,gBAAL,iBAA6CmD,GAAW1E,UAAU,YACzE,uBAAGA,UAAU,cACZ0E,OC4BdI,EA7CI,SAAC,GAAuB,IAAtBC,EAAqB,EAArBA,SAAUC,EAAW,EAAXA,MAAW,EACR7C,EAAa4C,EAAS3C,QAA7CM,EAD+B,EAC/BA,OAAQH,EADuB,EACvBA,YACT0C,EAAoBC,oBAAU,CAChCxC,SAAQS,MLPK,KKSXgC,EAAM,oBAAgBF,GALU,EAMY1E,EAAS4E,GANrB,0BAM7BxG,EAN6B,EAM7BA,SAAUF,EANmB,EAMnBA,UAAWI,EANQ,EAMRA,MAASM,EAND,KAOhCX,EAAMwG,EAAMxG,IAMlB,OAJAF,qBAAU,WACNa,MACD,CAACA,EAASoD,IAGT,yBAAKvC,UAAU,aACX,yBAAKA,UAAU,UACX,yBAAKA,UAAU,aACX,4CAGA,4DAGR,yBAAKA,UAAU,kBACX,yBAAKA,UAAU,OACX,yBAAKA,UAAY,YACb,kBAAC,EAAD,MACCvB,GAAa,2CACbI,GAAS,qDACRJ,GAAaE,GACX,kBAAC,WAAD,KACI,kBAAC,EAAD,CAAMyC,SAAUzC,EAASyC,WACzB,kBAAC,EAAD,CAAY8B,MAAOvE,EAASyG,cAAejC,MLpCtD,GKoCoE3E,IAAKA,EAAK+D,YAAaA,MAI5F,yBAAKvC,UAAY,YACb,kBAAC,EAAD,WCgDTqF,EAvFC,SAAAC,GACZ,IAAMvD,EAAOuD,EAAMN,MAAMO,OAAOxD,KAC1BoD,EAAM,oBAAgBpD,GAFP,EAINxB,EAAS4E,GAJH,0BAGDK,EAHC,EAGZ/G,UAAyCgH,EAH7B,EAGsB5G,MAAoC6G,EAH1D,EAGgD/G,SACjEQ,EAJiB,OAK0CoB,EAAS4E,GALnD,mBAKFQ,EALE,KAKZhH,SAAmCiH,EALvB,OAMMjB,qBAAWR,GAA/BS,EANc,sBAO+B3G,oBAAS,GAPxC,mBAOd4H,EAPc,KAOMC,EAPN,KA4BrB,OATAxH,qBAAU,WACNa,MACD,CAACA,IACJb,qBAAU,WACFqH,GAEJG,GAAsB,KACvB,CAACH,IAEDE,EACQ,kBAAC,IAAD,CAAUvE,GAAE,UAAKC,gBAAL,OAGnB,yBAAKvB,UAAU,gBACX,yBAAKA,UAAU,WACTwF,GAAyBE,GACvB,yBAAK1F,UAAU,aACX,4BAAK0F,EAAqBjF,QAAQuB,OAClC,yBAAKhC,UAAU,gBACX,kBAAC,IAAD,CAAMsB,GAAE,UAAKC,gBAAL,qBAAiDmE,EAAqBjF,QAAQe,OAAOC,WACzF,yBAAKC,IAAKgE,EAAqBjF,QAAQe,OAAOG,MAAOC,IAAI,OAGjE,yBAAK5B,UAAU,QACX,kBAAC,IAAD,CAAMsB,GAAE,UAAKC,gBAAL,qBAAiDmE,EAAqBjF,QAAQe,OAAOC,WACxFiE,EAAqBjF,QAAQe,OAAOC,UAEzC,0BAAMzB,UAAU,QAAQ0F,EAAqBjF,QAAQqB,YArC5D,WACb,SAAI4D,IAAyBd,EAAiBf,WAEvC6B,EAAqBjF,QAAQe,OAAOK,WAAa+C,EAAiBd,YAAYjC,WAqCjE,8BACI,kBAAC,IAAD,CACIP,GAAE,UAAKC,gBAAL,oBAAgDmE,EAAqBjF,QAAQsB,KAA7E,SACF/B,UAAU,oCAEV,uBAAGA,UAAU,aAJjB,gBAOA,4BACIA,UAAU,gCACVe,QA5CV,WAClB6E,EAAgB,CAAC1E,OAAQ,aA6CG,uBAAGlB,UAAU,gBAJjB,qBAYpB,yBAAKA,UAAU,kBACVwF,GAAyB,2CACzBC,GAAqB,0CACpBD,GAAyBE,GACvB,yBAAK1F,UAAU,uBACX,yBAAKA,UAAU,aACX,6BACI,2BAAI0F,EAAqBjF,QAAQsF,OAErC,kBAAC,EAAD,CAAShG,KAAM2F,EAAqBjF,QAAQyB,eC7BzD8D,EA/CC,SAAC,GAAuB,IAAtBjB,EAAqB,EAArBA,SAAUC,EAAW,EAAXA,MAClBN,EAAUM,EAAMO,OAAOxD,KADM,EAELI,EAAa4C,EAAS3C,QAA7CM,EAF4B,EAE5BA,OAAQH,EAFoB,EAEpBA,YACT0C,EAAoBC,oBAAU,CAChCxC,SAAQS,MPRK,GOQEjD,IAAKwE,IAElBS,EAAM,oBAAgBF,GANO,EAOe1E,EAAS4E,GAPxB,0BAO1BxG,EAP0B,EAO1BA,SAAUF,EAPgB,EAOhBA,UAAWI,EAPK,EAOLA,MAASM,EAPJ,KAQ7BX,EAAMwG,EAAMxG,IAOlB,OANAyH,QAAQC,IAAI,WAAYvH,GAExBL,qBAAU,WACNa,MACD,CAACA,EAASoD,EAAamC,IAGtB,yBAAK1E,UAAU,aACX,yBAAKA,UAAU,UACX,yBAAKA,UAAU,aACX,4CAGA,4DAGR,yBAAKA,UAAU,kBACX,yBAAKA,UAAU,OACX,yBAAKA,UAAY,YACb,kBAAC,EAAD,CAAa0E,QAASA,IACrBjG,GAAa,2CACbI,GAAS,qDACRJ,GAAaE,GACX,kBAAC,WAAD,KACI,kBAAC,EAAD,CAAMyC,SAAUzC,EAASyC,WACzB,kBAAC,EAAD,CAAY8B,MAAOvE,EAASyG,cAAejC,MPtCtD,GOsCoE3E,IAAKA,EAAK+D,YAAaA,MAI5F,yBAAKvC,UAAY,YACb,kBAAC,EAAD,WC/BTmG,EAhBc,SAAC,GAAoB,IAAnBC,EAAkB,EAAlBA,cACrBC,EAAgBC,OAAO7C,KAAK2C,GAAenG,KAAI,SAAAsG,GACjD,IAAMC,EAAWJ,EAAcG,GAAME,KAAK,KAC1C,MAAM,GAAN,OAAUF,EAAV,YAAkBC,MAEtB,OACI,wBAAIxG,UAAU,kBACTqG,EAAcpG,KAAI,SAAAyG,GAAY,OAC3B,wBAAI3I,IAAK2I,GACJA,QCoINC,EAvIE,WAAO,IAAD,EACkBhC,qBAAWR,GAD7B,mBACZS,EADY,KACMgC,EADN,OAGoBrG,EADxB,SAFI,0BAGV5B,EAHU,EAGVA,SAAUE,EAHA,EAGAA,MAASM,EAHT,OAIEF,EAAgB,SAA5B4H,EAJU,sBAKiC5I,oBAAS,GAL1C,mBAKZ6I,EALY,KAKQC,EALR,OAOO9I,mBAAS,IAPhB,mBAOZ0D,EAPY,KAOLqF,EAPK,OAQa/I,mBAAS,IARtB,mBAQZwD,EARY,KAQFwF,EARE,OASGhJ,mBAAS,IATZ,mBASZiJ,EATY,KASPC,EATO,OAUOlJ,mBAAS,IAVhB,mBAUZmJ,EAVY,KAULC,EAVK,OAWapJ,mBAAS,IAXtB,mBAWZqJ,EAXY,KAWFC,EAXE,KAoDnB,OAhBAjJ,qBAAU,WACFsG,EAAiBd,cAGrBkD,EAASpC,EAAiBd,YAAYnC,OACtCsF,EAAYrC,EAAiBd,YAAYrC,UACzC0F,EAAOvC,EAAiBd,YAAYoD,KACpCG,EAASzC,EAAiBd,YAAYsD,UACvC,CAACxC,EAAiBd,cAErBxF,qBAAU,WACFK,GAEJiI,EAAS,CAAC3C,KAAM,iBAAkBC,QAASvF,EAAS6I,SACrD,CAAC7I,EAAUiI,IAEXE,EACQ,kBAAC,IAAD,CAAUxF,GAAE,UAAKC,gBAAL,OAGnB,yBAAKvB,UAAU,iBACX,yBAAKA,UAAU,kBACX,yBAAKA,UAAU,OACX,yBAAKA,UAAU,kCACX,wBAAIA,UAAU,kBAAd,iBAGCnB,GAAS,kBAAC,EAAD,CAAsBuH,cAAevH,EAAM4I,SACrD,0BAAMC,SAnDL,SAAA1G,GACjBA,EAAEC,iBACF9B,EAAQ,CACJ+B,OAAQ,MACRvB,KAAM,CACF6H,KAAK,2BACE5C,EAAiBd,aADpB,IAEAnC,QACAF,WACAyF,MACAE,QACAE,kBAyCQ,kCACI,8BAAUtH,UAAU,cAChB,2BACIiE,KAAK,OACLjE,UAAU,+BACV2H,YAAY,yBACZvJ,MAAOuD,EACPiG,SAAU,SAAA5G,GAAC,OAAEgG,EAAShG,EAAE6G,OAAOzJ,WAGvC,8BAAU4B,UAAU,cAChB,2BACIiE,KAAK,OACLjE,UAAU,+BACV2H,YAAY,WACZvJ,MAAOqD,EACPmG,SAAU,SAAA5G,GAAC,OAAEiG,EAAYjG,EAAE6G,OAAOzJ,WAG1C,8BAAU4B,UAAU,cAChB,8BACIA,UAAU,+BACV8H,KAAK,IACLH,YAAY,YACZvJ,MAAO8I,EACPU,SAAU,SAAA5G,GAAC,OAAEmG,EAAOnG,EAAE6G,OAAOzJ,WAIrC,8BAAU4B,UAAU,cAChB,2BACIiE,KAAK,OACLjE,UAAU,+BACV2H,YAAY,QACZvJ,MAAOgJ,EACPQ,SAAU,SAAA5G,GAAC,OAAEqG,EAASrG,EAAE6G,OAAOzJ,WAGvC,8BAAU4B,UAAU,cAChB,2BACIiE,KAAK,WACLjE,UAAU,+BACV2H,YAAY,WACZvJ,MAAOkJ,EACPM,SAAU,SAAA5G,GAAC,OAAEuG,EAAYvG,EAAE6G,OAAOzJ,WAG1C,4BACI6F,KAAK,SACLjE,UAAU,wCAFd,qBAQR,6BACA,4BACIiE,KAAK,SACLjE,UAAU,yBACVe,QA/FT,SAAAC,GACXA,EAAEC,iBACF4F,EAAS,IACTD,EAAS,CAAC3C,KAAM,WAChB8C,GAAsB,KAwFN,gCC1ETgB,EA7CE,SAAC,GAAuB,IAAtBhD,EAAqB,EAArBA,SAAUC,EAAW,EAAXA,MAAW,EACN7C,EAAa4C,EAAS3C,QAA7CM,EAD6B,EAC7BA,OAAQH,EADqB,EACrBA,YACT0C,EAAoBC,oBAAU,CAChCxC,SAAQS,MVPK,KUSXgC,EAAM,yBAAqBF,GALG,EAMc1E,EAAS4E,GANvB,0BAM3BxG,EAN2B,EAM3BA,SAAUF,EANiB,EAMjBA,UAAWI,EANM,EAMNA,MAASM,EANH,KAO9BX,EAAMwG,EAAMxG,IAMlB,OAJAF,qBAAU,WACNa,MACD,CAACA,EAASoD,IAGT,yBAAKvC,UAAU,aACX,yBAAKA,UAAU,UACX,yBAAKA,UAAU,aACX,4CAGA,4DAGR,yBAAKA,UAAU,kBACX,yBAAKA,UAAU,OACX,yBAAKA,UAAY,YACb,kBAAC,EAAD,MACCvB,GAAa,2CACbI,GAAS,qDACRJ,GAAaE,GACX,kBAAC,WAAD,KACI,kBAAC,EAAD,CAAMyC,SAAUzC,EAASyC,WACzB,kBAAC,EAAD,CAAY8B,MAAOvE,EAASyG,cAAejC,MVpCtD,GUoCoE3E,IAAKA,EAAK+D,YAAaA,MAI5F,yBAAKvC,UAAY,YACb,kBAAC,EAAD,WCyCTgI,EApFK,SAAC,GAAyC,IAAvCN,EAAsC,EAAtCA,SAAUD,EAA4B,EAA5BA,OAAQQ,EAAoB,EAApBA,cACrChC,QAAQC,IAAI,SAAUuB,GADmC,MAE/BxJ,mBAAS,IAFsB,mBAElD+D,EAFkD,KAE3CkG,EAF2C,OAGjCjK,mBAAS,IAHwB,mBAGlD8H,EAHkD,KAG5CoC,EAH4C,OAInBlK,mBAAS,IAJU,mBAIlDgE,EAJkD,KAIrCmG,EAJqC,OAK3BnK,mBAAS,IALkB,mBAKlDiE,EALkD,KAKzCmG,EALyC,KAuBzD,OARA/J,qBAAU,WACF2J,IAEJC,EAASD,EAAcjG,OACvBmG,EAAQF,EAAclC,MACtBqC,EAAeH,EAAchG,aAC7BoG,EAAWJ,EAAc/F,QAAQuE,KAAK,SACvC,CAACwB,IAEA,yBAAKjI,UAAU,eACX,yBAAKA,UAAU,kBACX,yBAAKA,UAAU,mCACVyH,GAAU,kBAAC,EAAD,CAAsBrB,cAAeqB,IAChD,0BAAMC,SArBD,SAAAY,GACjBA,EAAMrH,iBAINyG,EAHgB,CACZ1F,QAAO+D,OAAM9D,cAAaC,cAmBd,kCACI,8BAAUlC,UAAU,cAChB,2BACIiE,KAAK,OACLjE,UAAU,+BACV2H,YAAY,gBACZvJ,MAAO4D,EACP4F,SAAU,SAAA5G,GAAC,OAAEkH,EAASlH,EAAE6G,OAAOzJ,WAGvC,8BAAU4B,UAAU,cAChB,2BACIiE,KAAK,OACLjE,UAAU,+BACV2H,YAAY,8BACZvJ,MAAO6D,EACP2F,SAAU,SAAA5G,GAAC,OAAEoH,EAAepH,EAAE6G,OAAOzJ,WAG7C,8BAAU4B,UAAU,cAChB,8BACIA,UAAU,eACV8H,KAAK,IACLH,YAAY,qBACZvJ,MAAO2H,EACP6B,SAAU,SAAA5G,GAAC,OAAEmH,EAAQnH,EAAE6G,OAAOzJ,WAItC,8BAAU4B,UAAU,cAChB,2BACIiE,KAAK,OACLjE,UAAU,+BACV2H,YAAY,aACZvJ,MAAO8D,EACP0F,SAAU,SAAA5G,GAAC,OAAEqH,EAAWrH,EAAE6G,OAAOzJ,WAGzC,8BAAU4B,UAAU,cAChB,4BACIiE,KAAK,SACLjE,UAAU,uCACV2H,YAAY,iBAHhB,0BC1BjBY,EAvCO,WAClB,IADuB,EAEchI,EADtB,aADQ,0BAEf1B,EAFe,EAEfA,MAAOF,EAFQ,EAERA,SAAWQ,EAFH,OAGIwF,qBAAWR,GAA/BS,EAHgB,sBAU6B3G,oBAAS,GAVtC,mBAUhBuK,EAVgB,KAUIC,EAVJ,KAwBvB,OALAnK,qBAAU,WACFK,GAEJ8J,GAAsB,KACvB,CAAC9J,KAC2B,IAA5BiG,EAAiBf,SACR,kBAAC,IAAD,CAAUvC,GAAE,UAAKC,gBAAL,OACrBiH,EACS,kBAAC,IAAD,CAAUlH,GAAE,UAAKC,gBAAL,oBAAgD5C,EAAS8B,QAAQsB,QAErF,6BACI,kBAAC,EAAD,CACI0F,OAAS5I,GAASA,EAAM4I,QAAW,GACnCQ,cA5BU,CAClBjG,MAAO,GACPC,YAAa,GACb8D,KAAM,GACN7D,QAAU,IAyBFwF,SAtBS,SAAAjH,GACjBtB,EAAQ,CACJ+B,OAAQ,OACRvB,KAAM,CACFc,kBCmCDiI,EAlDK,SAAC,GAAW,IAAV1D,EAAS,EAATA,MAAS,EACAL,qBAAWR,GAA/BS,EADoB,oBAGrB7C,EAAOiD,EAAMO,OAAOxD,KACpBoD,EAAM,oBAAgBpD,GAJD,EAKgCxB,EAAS4E,GALzC,mBAKTO,EALS,KAKnB/G,SAAiCgK,EALd,OAM6DpI,EAAS4E,GANtE,0BAMTyD,EANS,EAMnBjK,SAAwCkK,EANrB,EAMchK,MAA4BiK,EAN1C,OAOe7K,mBAAS,MAPxB,mBAOpBgK,EAPoB,KAOLc,EAPK,OAQyB9K,oBAAS,GARlC,mBAQpBuK,EARoB,KAQAC,EARA,KAiC3B,OAjBAnK,qBAAU,WACNqK,MACD,CAACA,IACJrK,qBAAU,WACN,GAAIoH,EAAJ,CADU,MAKNA,EAAqBjF,QADrBuB,EAJM,EAINA,MAAO+D,EAJD,EAICA,KAAM9D,EAJP,EAIOA,YAAaC,EAJpB,EAIoBA,QAE9B6G,EAAiB,CAAC/G,QAAO+D,OAAM9D,cAAaC,eAC7C,CAACwD,IACJpH,qBAAU,WACFsK,GAEJH,GAAsB,KACvB,CAACG,IAEDJ,EAEK,kBAAC,IAAD,CAAUlH,GAAE,UAAKC,gBAAL,oBAAgDQ,MAErC,IAA5B6C,EAAiBf,SAEZ,kBAAC,IAAD,CAAUvC,GAAE,UAAKC,gBAAL,OAGhB,kBAAC,EAAD,CACImG,SAjCa,SAAAjH,GACjBqI,EAAgB,CACZ5H,OAAQ,MACRvB,KAAM,CAACc,cA+BPgH,OAASoB,GAAsBA,EAAmBpB,QAAW,GAC7DQ,cAAeA,KCwDZe,EApGQ,SAAA1D,GACnB,IAAM2D,EAAU3D,EAAMN,MAAMkE,OAAZ,UAAwB3H,gBAAxB,UACV4H,EAAYF,EAAU,UAAY,UAClCG,EAAyB,UAAM7H,gBAAb0H,EAAO,sBACzBI,EAAkBJ,EAAU,kBAAoB,kBAChD9D,EAAS8D,EAAO,wBALM,EAOFhL,mBAAS,IAPP,mBAOrBmJ,EAPqB,KAOdC,EAPc,OAQIpJ,mBAAS,IARb,mBAQrBqJ,EARqB,KAQXC,EARW,OASItJ,mBAAS,IATb,mBASrBwD,EATqB,KASXwF,EATW,OAUwBhJ,oBAAS,GAVjC,mBAUrBuK,EAVqB,KAUDC,EAVC,OAWqBlI,EAAS4E,GAX9B,0BAWpB1G,EAXoB,EAWpBA,UAAWE,EAXS,EAWTA,SAAUE,EAXD,EAWCA,MAASM,EAXV,OAYPF,EAAgB,SAA5B4H,EAZmB,sBAaSlC,qBAAWR,GAbpB,mBAaHyC,GAbG,WA0B5B,GATAtI,qBAAU,WACFK,IAEJkI,EAASlI,EAAS6I,KAAKtI,OACvBuJ,GAAsB,GACtB7B,EAAS,CAAC3C,KAAM,iBAAkBC,QAASvF,EAAS6I,UACrD,CAAC7I,EAAUkI,EAAUD,IAGrB4B,EACC,OAAO,kBAAC,IAAD,CAAUlH,GAAE,UAAKC,gBAAL,OAavB,OACI,yBAAKvB,UAAU,aACX,yBAAKA,UAAU,kBACX,yBAAKA,UAAU,OACX,yBAAKA,UAAU,kCACX,wBAAIA,UAAU,kBACTmJ,GAEL,uBAAGnJ,UAAU,kBACT,kBAAC,IAAD,CAAMsB,GAAI8H,GAAkBC,IAEhC,0BAAM3B,SArBL,SAAC1G,GAClB,IAAMwG,EAAOyB,EAAS,CAAC7B,QAAOE,YAAW,CAACF,QAAOE,WAAU7F,YAC3DT,EAAEC,iBAEF9B,EAAQ,CACJ+B,OAAQ,OACRvB,KAAM,CAAC6H,YAgBU3I,GAAS,kBAAC,EAAD,CAAsBuH,cAAevH,EAAM4I,SACrD,mCACMwB,GACG,8BAAUjJ,UAAU,cACjB,2BACIiE,KAAK,OACLjE,UAAU,+BACV2H,YAAY,WACZvJ,MAAOqD,EACPmG,SAAU,SAAA5G,GAAC,OAAIiG,EAAYjG,EAAE6G,OAAOzJ,WAIhD,8BAAU4B,UAAU,cAChB,2BACIiE,KAAK,QACLjE,UAAU,+BACV2H,YAAY,QACZvJ,MAAOgJ,EACPQ,SAAU,SAAA5G,GAAC,OAAIqG,EAASrG,EAAE6G,OAAOzJ,WAIzC,8BAAU4B,UAAU,cAChB,2BACIiE,KAAK,WACLjE,UAAU,+BACV2H,YAAY,WACZvJ,MAAOkJ,EACPM,SAAU,SAAA5G,GAAC,OAAIuG,EAAYvG,EAAE6G,OAAOzJ,WAG5C,4BACI4B,UAAU,uCACViE,KAAK,SACLqF,SAAU7K,GAET0K,UCxDtBI,EA1BM,SAAC,GAA2C,IAA1C9H,EAAyC,EAAzCA,SAAUsD,EAA+B,EAA/BA,SAAUyE,EAAqB,EAArBA,YAAahL,EAAQ,EAARA,IAAQ,EAC9B2D,EAAa4C,EAAS3C,QAA7CM,EADqD,EACrDA,OAAQH,EAD6C,EAC7CA,YACT4C,EATQ,SAAC,GAAoC,IAAnC1D,EAAkC,EAAlCA,SAAUiB,EAAwB,EAAxBA,OACpB6C,EAD4C,EAAhBiE,YAE5B,CAACrG,MfJU,GeIHT,SAAQhC,UAAWe,GAC3B,CAAC0B,MfLU,GeKHT,SAAQlB,OAAQC,GAC9B,MAAM,aAAN,OAAoByD,oBAAUK,IAKfkE,CAAU,CAAChI,WAAUiB,SAAQ8G,gBAFgB,EAGZjJ,EAAS4E,GAHG,0BAGpDxG,EAHoD,EAGpDA,SAAUF,EAH0C,EAG1CA,UAAWI,EAH+B,EAG/BA,MAAQM,EAHuB,KAO5D,OAHAb,qBAAU,WACNa,MACD,CAACA,EAASqK,EAAa/H,IAEtB,6BACKhD,GAAa,8CACbI,GAAS,0CACRJ,GAAaE,GACX,kBAAC,WAAD,KACI,kBAAC,EAAD,CAAMyC,SAAUzC,EAASyC,WACzB,kBAAC,EAAD,CACI8B,MAAOvE,EAASyG,cAChBjC,MfzBH,Ge0BGZ,YAAaA,EACb/D,IAAKA,OCgCdkL,EA3DK,SAAC,GAAyB,IAAvB3E,EAAsB,EAAtBA,SACbhD,EADmC,EAAZiD,MACVO,OAAOxD,KACpByH,EAAczE,EAAS4E,SAASC,SAAS,aACzCzE,EAAM,oBAAgBpD,GAHa,EAITxB,EAAS4E,GAJA,mBAIhCxG,EAJgC,KAIhCA,SAAYQ,EAJoB,KASzC,OAHAb,qBAAU,WACNa,MACD,CAACA,EAAS4C,IACRpD,EAGD,yBAAKqB,UAAU,gBACX,yBAAKA,UAAU,aACX,yBAAKA,UAAU,aACX,yBAAKA,UAAU,OACX,yBAAKA,UAAU,mCACX,yBAAKA,UAAU,WAAW4B,IAAI,GAAGF,IAAK/C,EAASkL,QAAQlI,QACvD,4BAAKhD,EAASkL,QAAQpI,UACtB,2BAAI9C,EAASkL,QAAQ3C,SAKrC,yBAAKlH,UAAU,aACX,yBAAKA,UAAU,OACX,yBAAKA,UAAU,mCACX,yBAAKA,UAAU,kBACX,wBAAIA,UAAU,gCACV,wBAAIA,UAAU,YACV,kBAAC,IAAD,CAASsB,GAAE,UAAKC,gBAAL,qBAAiD5C,EAASkL,QAAQpI,UACzEzB,UAAU,WACV6E,OAAK,GAFT,aAOJ,wBAAI7E,UAAU,YACV,kBAAC,IAAD,CAASsB,GAAE,UAAKC,gBAAL,qBAAiD5C,EAASkL,QAAQpI,SAAlE,cACPzB,UAAU,YADd,qBAQZ,kBAAC,EAAD,CACIyB,SAAU9C,EAASkL,QAAQpI,SAC3BsD,SAAUA,EACVyE,YAAaA,EACbhL,IAAKuG,EAAS4E,eAxC3B,MCJA,aACX,OACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOT,KAAI,UAAK3H,gBAAL,mBAAuDuI,UAAWJ,IAC7E,kBAAC,IAAD,CAAOR,KAAI,UAAK3H,gBAAL,6BAAiEuI,UAAWJ,IACvF,kBAAC,IAAD,CAAOR,KAAI,UAAK3H,gBAAL,eAAmDuI,UAAW9D,IACzE,kBAAC,IAAD,CAAOkD,KAAI,UAAK3H,gBAAL,SAA6CuI,UAAW/B,IACnE,kBAAC,IAAD,CAAOmB,KAAI,UAAK3H,gBAAL,aAAiDuI,UAAWnD,IACvE,kBAAC,IAAD,CAAOuC,KAAI,UAAK3H,gBAAL,KAAyCuI,UAAWhF,EAAYD,OAAK,IAChF,kBAAC,IAAD,CAAOqE,KAAI,UAAK3H,gBAAL,UAA8CuI,UAAWd,IACpE,kBAAC,IAAD,CAAOE,KAAI,UAAK3H,gBAAL,aAAiDuI,UAAWd,IACvE,kBAAC,IAAD,CAAOE,KAAI,UAAK3H,gBAAL,gBAAoDuI,UAAWvB,IAC1E,kBAAC,IAAD,CAAOW,KAAI,UAAK3H,gBAAL,uBAA2DuI,UAAWpB,IACjF,kBAAC,IAAD,CAAOQ,KAAI,UAAK3H,gBAAL,kBAAsDuI,UAAWzE,MCuCzE0E,EA3DA,WAAO,IAAD,EACUpF,qBAAWR,GAA/BS,EADU,oBAEjB,OACI,yBAAK5E,UAAU,uBACX,yBAAKA,UAAU,aACX,kBAAC,IAAD,CAAMsB,GAAE,UAAKC,gBAAL,KAAyCvB,UAAU,gBAA3D,UAGA,wBAAIA,UAAU,gCACV,wBAAIA,UAAU,YACV,kBAAC,IAAD,CAASsB,GAAE,UAAKC,gBAAL,KAAyCvB,UAAU,WAAW6E,OAAK,GAA9E,UAI2B,IAA9BD,EAAiBf,UACd,kBAAC,WAAD,KACI,wBAAI7D,UAAU,YACV,kBAAC,IAAD,CAASsB,GAAE,UAAKC,gBAAL,UAA8CvB,UAAU,YAAnE,YAIJ,wBAAIA,UAAU,YACV,kBAAC,IAAD,CAASsB,GAAE,UAAKC,gBAAL,aAAiDvB,UAAU,YAAtE,aAMX4E,EAAiBf,UACd,kBAAC,WAAD,KACI,wBAAI7D,UAAU,YACV,kBAAC,IAAD,CAASsB,GAAE,UAAKC,gBAAL,gBAAoDvB,UAAU,YACrE,uBAAGA,UAAU,gBADjB,kBAKJ,wBAAIA,UAAU,YACV,kBAAC,IAAD,CAASsB,GAAE,UAAKC,gBAAL,aAAiDvB,UAAU,YAClE,uBAAGA,UAAU,eADjB,kBAKJ,wBAAIA,UAAU,YACV,kBAAC,IAAD,CACIsB,GAAE,UAAKC,gBAAL,qBAAiDqD,EAAiBd,YAAYrC,UAChFzB,UAAU,YAEV,yBAAKA,UAAU,WAAW0B,IAAKkD,EAAiBd,YAAYnC,MAAOC,IAAI,KAJ3E,QAKYgD,EAAiBd,YAAYrC,gBCxB1DuI,EAvBY,SAAC,GAAe,IAAd1F,EAAa,EAAbA,SAAa,EACR/D,EAAS,SADD,mBAC9B5B,EAD8B,KAC9BA,SAAWQ,EADmB,OAEjBwF,qBAAWR,GAAvByC,EAF6B,sBAGtB3H,EAAgB,SAAzBC,EAH+B,oBAkBtC,OAdAZ,qBAAU,WAEFY,GAIJC,IACAyH,EAAS,CAAC3C,KAAM,aAJZ2C,EAAS,CAAC3C,KAAM,uBAKrB,CAAC2C,EAAU1H,EAAOC,IACrBb,qBAAU,WACFK,GAEJiI,EAAS,CAAC3C,KAAM,iBAAkBC,QAASvF,EAAS6I,SACrD,CAAC7I,EAAUiI,IAEVtC,GCFO2F,MAff,WACE,OACE,yBAAKjK,UAAU,OACb,kBAAC,EAAD,KACE,kBAAC,EAAD,KACE,kBAAC,IAAD,KACE,kBAAC,EAAD,MACA,kBAAC,EAAD,WCXZkK,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.79a3d2e3.chunk.js","sourcesContent":["import {useState, useEffect} from 'react'\r\n\r\nexport default (key, initialValue = '') =>{\r\n    const [value, setValue] = useState(()=>{\r\n        return localStorage.getItem(key) || initialValue\r\n    })\r\n\r\n    useEffect(()=>{\r\n        localStorage.setItem(key, value)\r\n    }, [key, value])\r\n\r\n    return [value, setValue]\r\n}","import {useState, useEffect, useCallback} from 'react'\r\nimport axios from 'axios'\r\n\r\nimport useLocalStorage from './useLocalStorage'\r\n\r\nexport default url =>{\r\n\r\n    const baseUrl = 'https://conduit.productionready.io/api'\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [response, setResponse] = useState(null)\r\n    const [error, setError] = useState(null)\r\n    const [options, setOptions] = useState({})\r\n    const [token] = useLocalStorage('token')\r\n    //console.log('token', token)\r\n\r\n    const doFetch = useCallback((options={}) =>{\r\n        setOptions(options)\r\n        setIsLoading(true)\r\n    }, [])\r\n\r\n    useEffect(()=>{\r\n        const requestOptions = {\r\n            ...options, \r\n            ...{\r\n                headers:{\r\n                    authorization: token? `Token ${token}`: ''\r\n                }\r\n            }\r\n        }\r\n        if(!isLoading) return\r\n        //console.log('effect was triggered')\r\n        axios(baseUrl + url, requestOptions)\r\n        .then(res=>{\r\n            //console.log('success', res)\r\n            setIsLoading(false)\r\n            setResponse(res.data)\r\n        })\r\n        .catch(err=>{\r\n            //console.log('error', err)\r\n            setIsLoading(false)\r\n            setError(err.response.data)\r\n        })\r\n    }, [isLoading, options, url, token])\r\n\r\n    return [{isLoading, response, error}, doFetch]\r\n\r\n}","import React from 'react'\r\n\r\nconst TagList = ({ tags }) => {\r\n    return (\r\n        <ul className='tag-list'>\r\n            {tags.map(tag => {\r\n                return (\r\n                    <li className='tag-default tag-pill tag-outline' key={tag}>\r\n                        {tag}\r\n                    </li>\r\n                )\r\n            })}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default TagList","import React from 'react'\r\nimport classNames from 'classnames'\r\n\r\nimport useFetch from '../hooks/useFetch'\r\n\r\nconst AddToFavorites = ({isFavorited, favoritesCount, articleSlug}) =>{\r\n    const [{response}, doFetch] = useFetch(`/articles/${articleSlug}/favorite`)\r\n    const handleLike =e=>{\r\n        e.preventDefault()\r\n        doFetch({\r\n            method: isFavoritedWithResponse? 'delete': 'post'\r\n        })\r\n    }\r\n    const isFavoritedWithResponse = response? response.article.favorited: isFavorited\r\n    const favoritesCountWithResponse = response? response.article.favoritesCount: favoritesCount\r\n    const buttonClasses =classNames({\r\n        btn: true,\r\n        'btn-sm': true,\r\n        'btn-primary': isFavoritedWithResponse,\r\n        'btn-outline-primary': !isFavoritedWithResponse\r\n    })\r\n\r\n    return (\r\n        <button \r\n            className={buttonClasses}\r\n            onClick={handleLike}\r\n        >\r\n            <i className='ion-heart'></i>\r\n            <span>&nbsp; {favoritesCountWithResponse}</span>\r\n        </button>\r\n    )\r\n}\r\n\r\nexport default AddToFavorites","import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\n\r\nimport TagList from './tagList'\r\nimport AddToFavorites from './addToFavorites'\r\n\r\nconst Feed = ({articles}) =>{\r\n    return(\r\n        <div>\r\n            {articles.map((article, index)=>{\r\n                return(\r\n                    <div className='article-preview' key={index}>\r\n                        <div className='article-meta'>\r\n                            <Link to={`${process.env.REACT_APP_MAIN_PATH}/profiles/${article.author.username}`}>\r\n                                <img src={article.author.image} alt=''/>\r\n                            </Link>\r\n                        </div>\r\n                        <div className='info'>\r\n                            <Link to={ `${process.env.REACT_APP_MAIN_PATH}/profiles/${article.author.username}`}>\r\n                                {article.author.userName}\r\n                            </Link>\r\n                            <span className='date'>{article.createdAt}</span>\r\n                        </div>\r\n                        <div className='pull-xs-right'>\r\n                            <AddToFavorites\r\n                                isFavorited = {article.favorited}\r\n                                favoritesCount = {article.favoritesCount}\r\n                                articleSlug={article.slug}\r\n                            />\r\n                        </div>\r\n                        <Link to={`${process.env.REACT_APP_MAIN_PATH}/article/${article.slug}`} className='preview-link'>\r\n                            <h1>{article.title}</h1>\r\n                            <p>{article.description}</p>\r\n                            <span>Read more...</span>\r\n                            <TagList tags={article.tagList}/>\r\n                        </Link>\r\n                    </div>\r\n                )\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Feed\r\n","import {parse} from 'query-string'\r\n\r\nexport const range = (start, end)=>{\r\n    return [...Array(end).keys()].map(el=>el+start)\r\n}\r\n\r\nexport const limit = 10\r\n\r\nexport const getPaginator = search =>{\r\n    const parsedSearch = parse(search)\r\n    const currentPage = parsedSearch.page? Number(parsedSearch.page): 1\r\n    const offset = currentPage * 10 - limit\r\n    return {currentPage, offset}\r\n}","import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport classnames from 'classnames'\r\n\r\nimport {range} from '../utils'\r\n\r\nconst PaginationItem = ({page, currentPage, url}) =>{\r\n    const liClasses = classnames({\r\n        'page-item': true,\r\n        active: currentPage === page\r\n    })\r\n    return(\r\n        <li className={liClasses}>\r\n            <Link to={`${process.env.REACT_APP_MAIN_PATH}/${url}?page=${page}`} className='page-link'>\r\n                {page}\r\n            </Link>\r\n        </li>\r\n    )\r\n}\r\n\r\nconst Pagination = ({total, limit, url, currentPage}) =>{\r\n    const pagesCount = Math.ceil(total / limit)\r\n    const pages = range(1, pagesCount)\r\n    return(\r\n        <ul className='pagination'>\r\n            {\r\n                pages.map(page=>(\r\n                    <PaginationItem\r\n                        page={page}\r\n                        currentPage={currentPage}\r\n                        url={url}\r\n                        key={page}\r\n                    />\r\n                ))\r\n            }\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default Pagination","import React, {useEffect} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport useFetch from '../hooks/useFetch'\r\n\r\nconst PopularTags = () =>{\r\n    const [{response, error, isLoading}, doFetch] = useFetch('/tags')\r\n    useEffect(()=>{\r\n        doFetch()\r\n    }, [doFetch])\r\n    return(\r\n        <div>\r\n            {error && <div>Error</div>}\r\n            {isLoading && <div>Loading...</div>}\r\n            {!isLoading && response && (\r\n                <div className='side-bar'>\r\n                    <p>Popular Tags</p>\r\n                    <div className='tag-list'>\r\n                        {response.tags.map(tag=>{\r\n                            return (\r\n                                <Link to={`${process.env.REACT_APP_MAIN_PATH}/tags/${tag}`} className='tag-default tag-pill' key={tag}>\r\n                                    {tag}\r\n                                </Link>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PopularTags","import { createContext, useReducer } from 'react'\r\nimport React from 'react'\r\n\r\nconst initialState = {\r\n    isLoading: false,\r\n    isLogged: null,\r\n    currentUser: null\r\n}\r\n\r\nconst reducer = (state, { type, payload }) => {\r\n    switch (type) {\r\n        case 'LOADING':\r\n            return {\r\n                ...state, isLoading: true\r\n            }\r\n        case 'SET_AUTHORIZED':\r\n            return {\r\n                ...state,\r\n                isLogged: true,\r\n                isLoading: false,\r\n                currentUser: payload\r\n            }\r\n        case 'SET_UNAUTHORIZED':\r\n            return {\r\n                ...state,\r\n                isLogged: false\r\n            }\r\n        case 'LOGOUT':\r\n            return {\r\n                ...initialState,\r\n                isLogged: false\r\n            }\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport const CurrentUserContext = createContext([{}, () => { }])\r\n\r\nexport const CurrentUserProvider = ({ children }) => {\r\n    // const [state, setState] = useState({\r\n    //     isLoading: false,\r\n    //     isLogged: null,\r\n    //     currentUser: null\r\n    // })\r\n    const value = useReducer(reducer, initialState)\r\n    return (\r\n        <CurrentUserContext.Provider value={value}>\r\n            {children}\r\n        </CurrentUserContext.Provider>\r\n    )\r\n\r\n}","import React, {useContext} from 'react'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nimport {CurrentUserContext} from '../contexts/currentUser'\r\n\r\nconst FeedToggler = ({tagName}) =>{\r\n    const [currentUserState] = useContext(CurrentUserContext)\r\n    //console.log('currentUserState', currentUserState)\r\n    return(\r\n        <div className='feed-toggle'>\r\n            <ul className='nav nav-pills outline-active'>\r\n                {currentUserState.isLogged && (\r\n                    <li className='nav-item'>\r\n                        <NavLink to={`${process.env.REACT_APP_MAIN_PATH}/feed`} className='nav-link'>\r\n                            Your feed\r\n                        </NavLink>\r\n                    </li>\r\n                )}\r\n                <li className='nav-item'>\r\n                    <NavLink to={`${process.env.REACT_APP_MAIN_PATH}/`} className='nav-link' exact>\r\n                        Global feed\r\n                    </NavLink>\r\n                </li>\r\n                {tagName && (\r\n                    <li className='nav-item'>\r\n                        <NavLink to={`${process.env.REACT_APP_MAIN_PATH}/tags/${tagName}`} className='nav-link'>\r\n                            <i className='ion-pound'></i>\r\n                            {tagName}\r\n                        </NavLink>\r\n                    </li>\r\n                )}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FeedToggler","import React, { useEffect, Fragment } from 'react'\r\nimport {stringify} from 'query-string'\r\n\r\nimport useFetch from '../../hooks/useFetch'\r\nimport Feed from '../../components/feed'\r\nimport Pagination from '../../components/pagination'\r\nimport PopularTags from '../../components/popularTags'\r\nimport FeedToggler from '../../components/feedToggler'\r\nimport {getPaginator, limit} from '../../utils'\r\n\r\nconst GlobalFeed = ({location, match}) => {\r\n    const {offset, currentPage} = getPaginator(location.search)\r\n    const stringifiedParams = stringify({\r\n        offset, limit\r\n    })\r\n    const apiUrl = `/articles?${stringifiedParams}`\r\n    const [{ response, isLoading, error }, doFetch] = useFetch(apiUrl)\r\n    const url = match.url\r\n\r\n    useEffect(() => {\r\n        doFetch()\r\n    }, [doFetch, currentPage])\r\n\r\n    return (\r\n        <div className='home-page'>\r\n            <div className='banner'>\r\n                <div className='container'>\r\n                    <h1>\r\n                        Medium Clone\r\n                    </h1>\r\n                    <p> A place to share knowledge</p>\r\n                </div>\r\n            </div>\r\n            <div className='container page'>\r\n                <div className='row'>\r\n                    <div className = 'col-md-9'>\r\n                        <FeedToggler/>\r\n                        {isLoading && <div>Loading...</div>}\r\n                        {error && <div>Some Error Happened</div>}\r\n                        {!isLoading && response && (\r\n                            <Fragment>\r\n                                <Feed articles={response.articles}/>\r\n                                <Pagination total={response.articlesCount} limit={limit} url={url} currentPage={currentPage} />\r\n                            </Fragment>\r\n                        )}\r\n                    </div>\r\n                    <div className = 'col-md-3'>\r\n                        <PopularTags/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GlobalFeed","import React, { useEffect, useContext, useState } from 'react'\r\nimport { Link, Redirect } from 'react-router-dom'\r\n\r\nimport useFetch from '../../hooks/useFetch'\r\nimport TagList from '../../components/tagList'\r\nimport {CurrentUserContext} from '../../contexts/currentUser'\r\n\r\n\r\nconst Article = props => {\r\n    const slug = props.match.params.slug\r\n    const apiUrl = `/articles/${slug}`\r\n    const [{ isLoading: fetchArticleIsLoading, error: fetchArticleError, response: fetchArticleResponse }, \r\n        doFetch] = useFetch(apiUrl)\r\n    const [{ response: deleteArticleResponse }, doDeleteArticle] = useFetch(apiUrl)\r\n    const [currentUserState] = useContext(CurrentUserContext)\r\n    const [isSuccessfulDelete, setIsSuccessfulDelete] = useState(false)\r\n\r\n    const isAuthor = () =>{\r\n        if(!fetchArticleResponse || !currentUserState.isLogged)\r\n            return false\r\n        return fetchArticleResponse.article.author.userName === currentUserState.currentUser.userName\r\n    }\r\n\r\n    const deleteArticle = () =>{\r\n        doDeleteArticle({method: 'delete'})\r\n    }\r\n\r\n    useEffect(() => {\r\n        doFetch()\r\n    }, [doFetch])\r\n    useEffect(()=>{\r\n        if(!deleteArticleResponse)\r\n            return\r\n        setIsSuccessfulDelete(true)\r\n    }, [deleteArticleResponse])\r\n\r\n    if(isSuccessfulDelete)\r\n        return <Redirect to={`${process.env.REACT_APP_MAIN_PATH}/`}/>\r\n\r\n    return (\r\n        <div className='article-page'>\r\n            <div className='banner'>\r\n                {!fetchArticleIsLoading && fetchArticleResponse && (\r\n                    <div className='container'>\r\n                        <h1>{fetchArticleResponse.article.title}</h1>\r\n                        <div className='article-meta'>\r\n                            <Link to={`${process.env.REACT_APP_MAIN_PATH}/profiles/${fetchArticleResponse.article.author.username}`}>\r\n                                <img src={fetchArticleResponse.article.author.image} alt='' />\r\n                            </Link>\r\n                        </div>\r\n                        <div className='info'>\r\n                            <Link to={`${process.env.REACT_APP_MAIN_PATH}/profiles/${fetchArticleResponse.article.author.username}`}>\r\n                                {fetchArticleResponse.article.author.username}\r\n                            </Link>\r\n                            <span className='date'>{fetchArticleResponse.article.createdAt}</span>\r\n                        </div>\r\n                        {isAuthor && (\r\n                            <span>\r\n                                <Link \r\n                                    to={`${process.env.REACT_APP_MAIN_PATH}/article/${fetchArticleResponse.article.slug}/edit`} \r\n                                    className='btn btn-outline-secondary btn-sm'\r\n                                >\r\n                                    <i className='ion-edit'></i>\r\n                                    Edit Article\r\n                                </Link>\r\n                                <button \r\n                                    className='btn btn-outline-danger btn-sm'\r\n                                    onClick={deleteArticle}\r\n                                >\r\n                                    <i className='ion-trash-a'></i>\r\n                                    Delete Article\r\n                                </button>\r\n                            </span>\r\n                        )}\r\n                    </div>\r\n                )}\r\n            </div>\r\n            <div className='container page'>\r\n                {fetchArticleIsLoading && <div>is Loading</div>}\r\n                {fetchArticleError && <div>Error!!!</div>}\r\n                {!fetchArticleIsLoading && fetchArticleResponse && (\r\n                    <div className='row article-content'>\r\n                        <div className='col-xs-12'>\r\n                            <div>\r\n                                <p>{fetchArticleResponse.article.body}</p>\r\n                            </div>\r\n                            <TagList tags={fetchArticleResponse.article.tagList} />\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Article","import React, { useEffect, Fragment } from 'react'\r\nimport {stringify} from 'query-string'\r\n\r\nimport useFetch from '../../hooks/useFetch'\r\nimport Feed from '../../components/feed'\r\nimport Pagination from '../../components/pagination'\r\nimport PopularTags from '../../components/popularTags'\r\nimport FeedToggler from '../../components/feedToggler'\r\nimport {getPaginator, limit} from '../../utils'\r\n\r\nconst TagFeed = ({location, match}) => {\r\n    const tagName = match.params.slug\r\n    const {offset, currentPage} = getPaginator(location.search)\r\n    const stringifiedParams = stringify({\r\n        offset, limit, tag: tagName\r\n    })\r\n    const apiUrl = `/articles?${stringifiedParams}`\r\n    const [{ response, isLoading, error }, doFetch] = useFetch(apiUrl)\r\n    const url = match.url\r\n    console.log('response', response)\r\n\r\n    useEffect(() => {\r\n        doFetch()\r\n    }, [doFetch, currentPage, tagName])\r\n\r\n    return (\r\n        <div className='home-page'>\r\n            <div className='banner'>\r\n                <div className='container'>\r\n                    <h1>\r\n                        Medium Clone\r\n                    </h1>\r\n                    <p> A place to share knowledge</p>\r\n                </div>\r\n            </div>\r\n            <div className='container page'>\r\n                <div className='row'>\r\n                    <div className = 'col-md-9'>\r\n                        <FeedToggler tagName={tagName}/>\r\n                        {isLoading && <div>Loading...</div>}\r\n                        {error && <div>Some Error Happened</div>}\r\n                        {!isLoading && response && (\r\n                            <Fragment>\r\n                                <Feed articles={response.articles}/>\r\n                                <Pagination total={response.articlesCount} limit={limit} url={url} currentPage={currentPage} />\r\n                            </Fragment>\r\n                        )}\r\n                    </div>\r\n                    <div className = 'col-md-3'>\r\n                        <PopularTags/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TagFeed","import React from 'react'\r\n\r\nconst BackendErrorMessages = ({backendErrors}) =>{\r\n    const errorMessages = Object.keys(backendErrors).map(name=>{\r\n        const messages = backendErrors[name].join(' ')\r\n        return `${name} ${messages}`\r\n    })\r\n    return(\r\n        <ul className='error-messages'>\r\n            {errorMessages.map(errorMessage=>(\r\n                <li key={errorMessage}>\r\n                    {errorMessage}\r\n                </li>\r\n            ))}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default BackendErrorMessages","import React, { useContext, useState, useEffect } from 'react'\r\nimport {Redirect} from 'react-router-dom'\r\n\r\nimport { CurrentUserContext } from '../../contexts/currentUser'\r\nimport BackendErrorMessages from '../../components/backendErrorMessages'\r\nimport useFetch from '../../hooks/useFetch'\r\nimport useLocalStorage from '../../hooks/useLocalStorage'\r\n\r\nconst Settings = () => {\r\n    const [currentUserState, dispatch] = useContext(CurrentUserContext)\r\n    const apiUrl = '/user'\r\n    const [{ response, error }, doFetch] = useFetch(apiUrl)\r\n    const [, setToken] = useLocalStorage('token')\r\n    const [isSuccessfulLogout, setIsSuccessfulLogout] = useState(false)\r\n    \r\n    const [image, setImage] = useState('')\r\n    const [username, setUsername] = useState('')\r\n    const [bio, setBio] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n        doFetch({\r\n            method: 'put',\r\n            data: {\r\n                user:{\r\n                    ...currentUserState.currentUser,\r\n                    image,\r\n                    username,\r\n                    bio,\r\n                    email,\r\n                    password\r\n                }\r\n            }\r\n        })\r\n    }\r\n    const logout = e => {\r\n        e.preventDefault()\r\n        setToken('')\r\n        dispatch({type: 'LOGOUT'})\r\n        setIsSuccessfulLogout(true)\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(!currentUserState.currentUser){\r\n            return\r\n        }\r\n        setImage(currentUserState.currentUser.image)\r\n        setUsername(currentUserState.currentUser.username)\r\n        setBio(currentUserState.currentUser.bio)\r\n        setEmail(currentUserState.currentUser.email)\r\n    }, [currentUserState.currentUser])\r\n\r\n    useEffect(()=>{\r\n        if(!response)\r\n            return\r\n        dispatch({type: 'SET_AUTHORIZED', payload: response.user})\r\n    }, [response, dispatch])\r\n\r\n    if(isSuccessfulLogout)\r\n        return <Redirect to={`${process.env.REACT_APP_MAIN_PATH}/`}/>\r\n\r\n    return (\r\n        <div className='settings-page'>\r\n            <div className='container page'>\r\n                <div className='row'>\r\n                    <div className='col-md-6 offset-md-3 col-xs-12'>\r\n                        <h1 className='text-xs-center'>\r\n                            Your Settings\r\n                        </h1>\r\n                        {error && <BackendErrorMessages backendErrors={error.errors} />}\r\n                        <form onSubmit={handleSubmit}>\r\n                            <fieldset>\r\n                                <fieldset className='form-group'>\r\n                                    <input\r\n                                        type='text'\r\n                                        className='form-control form-control-lg'\r\n                                        placeholder='URL of profile picture'\r\n                                        value={image}\r\n                                        onChange={e=>setImage(e.target.value)}\r\n                                    />\r\n                                </fieldset>\r\n                                <fieldset className='form-group'>\r\n                                    <input\r\n                                        type='text'\r\n                                        className='form-control form-control-lg'\r\n                                        placeholder='Username'\r\n                                        value={username}\r\n                                        onChange={e=>setUsername(e.target.value)}\r\n                                    />\r\n                                </fieldset>\r\n                                <fieldset className='form-group'>\r\n                                    <textarea\r\n                                        className='form-control form-control-lg'\r\n                                        rows='8'\r\n                                        placeholder='Short bio'\r\n                                        value={bio}\r\n                                        onChange={e=>setBio(e.target.value)}\r\n                                    >\r\n                                    </textarea>\r\n                                </fieldset>\r\n                                <fieldset className='form-group'>\r\n                                    <input\r\n                                        type='text'\r\n                                        className='form-control form-control-lg'\r\n                                        placeholder='Email'\r\n                                        value={email}\r\n                                        onChange={e=>setEmail(e.target.value)}\r\n                                    />\r\n                                </fieldset>\r\n                                <fieldset className='form-group'>\r\n                                    <input\r\n                                        type='password'\r\n                                        className='form-control form-control-lg'\r\n                                        placeholder='Password'\r\n                                        value={password}\r\n                                        onChange={e=>setPassword(e.target.value)}\r\n                                    />\r\n                                </fieldset>\r\n                                <button\r\n                                    type='submit'\r\n                                    className='btn btn-lg btn-primary pull-xs-right'\r\n                                >\r\n                                    Update Settings\r\n                                </button>\r\n                            </fieldset>\r\n                        </form>\r\n                        <hr />\r\n                        <button\r\n                            type='submit'\r\n                            className='btn btn-outline-danger'\r\n                            onClick={logout}\r\n                        >\r\n                            Or click here to logout\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings","import React, { useEffect, Fragment } from 'react'\r\nimport {stringify} from 'query-string'\r\n\r\nimport useFetch from '../../hooks/useFetch'\r\nimport Feed from '../../components/feed'\r\nimport Pagination from '../../components/pagination'\r\nimport PopularTags from '../../components/popularTags'\r\nimport FeedToggler from '../../components/feedToggler'\r\nimport {getPaginator, limit} from '../../utils'\r\n\r\nconst YourFeed = ({location, match}) => {\r\n    const {offset, currentPage} = getPaginator(location.search)\r\n    const stringifiedParams = stringify({\r\n        offset, limit\r\n    })\r\n    const apiUrl = `/articles/feed?${stringifiedParams}`\r\n    const [{ response, isLoading, error }, doFetch] = useFetch(apiUrl)\r\n    const url = match.url\r\n\r\n    useEffect(() => {\r\n        doFetch()\r\n    }, [doFetch, currentPage])\r\n\r\n    return (\r\n        <div className='home-page'>\r\n            <div className='banner'>\r\n                <div className='container'>\r\n                    <h1>\r\n                        Medium Clone\r\n                    </h1>\r\n                    <p> A place to share knowledge</p>\r\n                </div>\r\n            </div>\r\n            <div className='container page'>\r\n                <div className='row'>\r\n                    <div className = 'col-md-9'>\r\n                        <FeedToggler/>\r\n                        {isLoading && <div>Loading...</div>}\r\n                        {error && <div>Some Error Happened</div>}\r\n                        {!isLoading && response && (\r\n                            <Fragment>\r\n                                <Feed articles={response.articles}/>\r\n                                <Pagination total={response.articlesCount} limit={limit} url={url} currentPage={currentPage} />\r\n                            </Fragment>\r\n                        )}\r\n                    </div>\r\n                    <div className = 'col-md-3'>\r\n                        <PopularTags/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default YourFeed","import React, { useState, useEffect } from 'react'\r\n\r\nimport BackendErrorMessages from './backendErrorMessages'\r\n\r\nconst ArticleForm = ({ onSubmit, errors, initialValues }) => {\r\n    console.log('errors', errors)\r\n    const [title, setTitle] = useState('')\r\n    const [body, setBody] = useState('')\r\n    const [description, setDescription] = useState('')\r\n    const [tagList, setTagList] = useState('')\r\n\r\n    const handleSubmit = event => {\r\n        event.preventDefault()\r\n        const article = {\r\n            title, body, description, tagList\r\n        }\r\n        onSubmit(article)\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(!initialValues)\r\n            return\r\n        setTitle(initialValues.title)\r\n        setBody(initialValues.body)\r\n        setDescription(initialValues.description)\r\n        setTagList(initialValues.tagList.join(' '))\r\n    }, [initialValues])\r\n    return (\r\n        <div className='editor-page'>\r\n            <div className='container page'>\r\n                <div className='col-md-10 offset-md-1 col-xs-12'>\r\n                    {errors && <BackendErrorMessages backendErrors={errors}/>}\r\n                    <form onSubmit={handleSubmit}>\r\n                        <fieldset>\r\n                            <fieldset className='form-group'>\r\n                                <input\r\n                                    type='text'\r\n                                    className='form-control form-control-lg'\r\n                                    placeholder='Article title'\r\n                                    value={title}\r\n                                    onChange={e=>setTitle(e.target.value)}\r\n                                />\r\n                            </fieldset>\r\n                            <fieldset className='form-group'>\r\n                                <input\r\n                                    type='text'\r\n                                    className='form-control form-control-lg'\r\n                                    placeholder='What is this article about?'\r\n                                    value={description}\r\n                                    onChange={e=>setDescription(e.target.value)}\r\n                                />\r\n                            </fieldset>\r\n                            <fieldset className='form-group'>\r\n                                <textarea\r\n                                    className='form-control'\r\n                                    rows='8'\r\n                                    placeholder='Write your article'\r\n                                    value={body}\r\n                                    onChange={e=>setBody(e.target.value)}\r\n                                >\r\n                                </textarea>\r\n                            </fieldset>\r\n                            <fieldset className='form-group'>\r\n                                <input\r\n                                    type='text'\r\n                                    className='form-control form-control-lg'\r\n                                    placeholder='Enter tags'\r\n                                    value={tagList}\r\n                                    onChange={e=>setTagList(e.target.value)}\r\n                                />\r\n                            </fieldset>\r\n                            <fieldset className='form-group'>\r\n                                <button\r\n                                    type='submit'\r\n                                    className='btn btn-lg pull-xs-right btn-primary'\r\n                                    placeholder='article title'\r\n                                >\r\n                                    Publish Article\r\n                                </button>\r\n                            </fieldset>\r\n                        </fieldset>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ArticleForm","import React, {useState, useEffect, useContext} from 'react'\r\nimport {Redirect} from 'react-router-dom'\r\n\r\nimport ArticleForm from '../../components/articleForm'\r\nimport useFetch from '../../hooks/useFetch'\r\nimport {CurrentUserContext} from '../../contexts/currentUser'\r\n\r\nconst CreateArticle = () =>{\r\n    const apiUrl = '/articles'\r\n    const [{error, response}, doFetch] = useFetch(apiUrl)\r\n    const [currentUserState] = useContext(CurrentUserContext)\r\n    const initialValues = {\r\n        title: '',\r\n        description: '',\r\n        body: '',\r\n        tagList : []\r\n    }\r\n    const [isSuccessfulSubmit, setIsSuccessfulSubmit] = useState(false)\r\n    const handleSubmit = article =>{\r\n        doFetch({\r\n            method: 'post',\r\n            data: {\r\n                article\r\n            }\r\n        })\r\n    }\r\n    useEffect(()=>{\r\n        if(!response)\r\n            return\r\n        setIsSuccessfulSubmit(true)\r\n    }, [response])\r\n    if(currentUserState.isLogged===false)\r\n        return (<Redirect to={`${process.env.REACT_APP_MAIN_PATH}/`}/>)\r\n    if(isSuccessfulSubmit)\r\n        return (<Redirect to={`${process.env.REACT_APP_MAIN_PATH}/article/${response.article.slug}`}/>)\r\n    return(\r\n        <div>\r\n            <ArticleForm \r\n                errors={(error && error.errors) || {}} \r\n                initialValues={initialValues} \r\n                onSubmit={handleSubmit}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreateArticle","import React, {useState, useEffect, useContext} from 'react'\r\nimport {Redirect} from 'react-router-dom'\r\n\r\nimport ArticleForm from '../../components/articleForm'\r\nimport useFetch from '../../hooks/useFetch'\r\nimport {CurrentUserContext} from '../../contexts/currentUser'\r\n\r\nconst EditArticle = ({match})=>{\r\n    const [currentUserState] = useContext(CurrentUserContext)\r\n    \r\n    const slug = match.params.slug\r\n    const apiUrl = `/articles/${slug}`\r\n    const [{response: fetchArticleResponse}, doFetchArticle] = useFetch(apiUrl)\r\n    const [{response: updateArticleResponse, error: updateArticleError}, doUpdateArticle] = useFetch(apiUrl)\r\n    const [initialValues, setInitialValues] = useState(null)\r\n    const [isSuccessfulSubmit, setIsSuccessfulSubmit] = useState(false)\r\n\r\n    const handleSubmit = article =>{\r\n        doUpdateArticle({\r\n            method: 'put',\r\n            data: {article}\r\n        })\r\n    }\r\n    useEffect(()=>{\r\n        doFetchArticle()\r\n    }, [doFetchArticle])\r\n    useEffect(()=>{\r\n        if(!fetchArticleResponse)\r\n            return\r\n        const {\r\n            title, body, description, tagList\r\n        } = fetchArticleResponse.article\r\n        setInitialValues({title, body, description, tagList})\r\n    }, [fetchArticleResponse])\r\n    useEffect(()=>{\r\n        if(!updateArticleResponse)\r\n            return\r\n        setIsSuccessfulSubmit(true)\r\n    }, [updateArticleResponse])\r\n\r\n    if(isSuccessfulSubmit)\r\n        return(\r\n            <Redirect to={`${process.env.REACT_APP_MAIN_PATH}/article/${slug}`}/>\r\n        )\r\n    if(currentUserState.isLogged===false)\r\n        return(\r\n            <Redirect to={`${process.env.REACT_APP_MAIN_PATH}/`}/>\r\n        )\r\n    return(\r\n        <ArticleForm \r\n            onSubmit={handleSubmit}\r\n            errors={(updateArticleError && updateArticleError.errors) || {}}\r\n            initialValues={initialValues}\r\n        />\r\n    )\r\n}\r\n\r\nexport default EditArticle","import React, { useState, useEffect, useContext } from 'react'\r\nimport { Link, Redirect } from 'react-router-dom'\r\n\r\nimport useFetch from '../../hooks/useFetch'\r\nimport useLocalStorage from '../../hooks/useLocalStorage'\r\nimport {CurrentUserContext} from '../../contexts/currentUser'\r\nimport BackendErrorMessages from '../../components/backendErrorMessages'\r\n\r\nconst Authentication = props => {\r\n    const isLogin = props.match.path === `${process.env.REACT_APP_MAIN_PATH}/login`\r\n    const pageTitle = isLogin ? 'Sign in' : 'Sign up'\r\n    const descriptionLink = isLogin ? `${process.env.REACT_APP_MAIN_PATH}/register` : `${process.env.REACT_APP_MAIN_PATH}/login`\r\n    const descriptionText = isLogin ? 'Need an acount?' : 'Have an acount?'\r\n    const apiUrl = isLogin ? `/users/login` : `/users`\r\n\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [username, setUsername] = useState('')\r\n    const [isSuccessfulSubmit, setIsSuccessfulSubmit] = useState(false)\r\n    const [{isLoading, response, error }, doFetch] = useFetch(apiUrl)\r\n    const [, setToken] = useLocalStorage('token')\r\n    const [currentUserState, dispatch] = useContext(CurrentUserContext)\r\n\r\n    //console.log('currentUserState', currentUserState)\r\n\r\n    useEffect(()=>{\r\n        if(!response)\r\n            return\r\n        setToken(response.user.token)\r\n        setIsSuccessfulSubmit(true)\r\n        dispatch({type: 'SET_AUTHORIZED', payload: response.user})\r\n    }, [response, setToken, dispatch])\r\n\r\n\r\n    if(isSuccessfulSubmit)\r\n        return <Redirect to={`${process.env.REACT_APP_MAIN_PATH}/`}/>\r\n\r\n\r\n    const handleSubmit = (e) => {\r\n        const user = isLogin? {email, password}: {email, password, username}\r\n        e.preventDefault()\r\n        //console.log(email, password)\r\n        doFetch({\r\n            method: 'post',\r\n            data: {user}\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className='auth-page'>\r\n            <div className='container page'>\r\n                <div className='row'>\r\n                    <div className='col-md-6 offset-md-3 col-xs-12'>\r\n                        <h1 className='text-xs-center'>\r\n                            {pageTitle}\r\n                        </h1>\r\n                        <p className='text-xs-center'>\r\n                            <Link to={descriptionLink}>{descriptionText}</Link>\r\n                        </p>\r\n                        <form onSubmit={handleSubmit}>\r\n                            {error && <BackendErrorMessages backendErrors={error.errors}/>}\r\n                            <fieldset>\r\n                                {!isLogin &&\r\n                                    (<fieldset className='form-group'>\r\n                                        <input\r\n                                            type='text'\r\n                                            className='form-control form-control-lg'\r\n                                            placeholder='Username'\r\n                                            value={username}\r\n                                            onChange={e => setUsername(e.target.value)}\r\n                                        />\r\n                                    </fieldset>)\r\n                                }\r\n                                <fieldset className='form-group'>\r\n                                    <input\r\n                                        type='email'\r\n                                        className='form-control form-control-lg'\r\n                                        placeholder='Email'\r\n                                        value={email}\r\n                                        onChange={e => setEmail(e.target.value)}\r\n                                    //ref={emailRef}\r\n                                    />\r\n                                </fieldset>\r\n                                <fieldset className='form-group'>\r\n                                    <input\r\n                                        type='password'\r\n                                        className='form-control form-control-lg'\r\n                                        placeholder='Password'\r\n                                        value={password}\r\n                                        onChange={e => setPassword(e.target.value)}\r\n                                    />\r\n                                </fieldset>\r\n                                <button\r\n                                    className='btn btn-lg btn-primary pull-xs-right'\r\n                                    type='submit'\r\n                                    disabled={isLoading}\r\n                                >\r\n                                    {pageTitle}\r\n                                </button>\r\n                            </fieldset>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Authentication","import React, {useEffect, Fragment} from 'react'\r\nimport {stringify} from 'query-string'\r\n\r\nimport {getPaginator, limit} from '../../../utils'\r\nimport useFetch from '../../../hooks/useFetch'\r\nimport Feed from '../../../components/feed'\r\nimport Pagination from '../../../components/pagination'\r\n\r\nconst getApiUrl = ({username, offset, isFavorites}) =>{\r\n    const params = isFavorites\r\n        ? {limit, offset, favorited: username}\r\n        : {limit, offset, author: username}\r\n    return `/articles?${stringify(params)}`\r\n}\r\n\r\nconst UserArticles = ({username, location, isFavorites, url}) =>{\r\n    const {offset, currentPage} = getPaginator(location.search)\r\n    const apiUrl = getApiUrl({username, offset, isFavorites})\r\n    const [{response, isLoading, error}, doFetch] = useFetch(apiUrl)\r\n    useEffect(()=>{\r\n        doFetch()\r\n    }, [doFetch, isFavorites, username])\r\n    return(\r\n        <div>\r\n            {isLoading && <div>is Loading...</div>}\r\n            {error && <div>Error!!!</div>}\r\n            {!isLoading && response && (\r\n                <Fragment>\r\n                    <Feed articles={response.articles}/>\r\n                    <Pagination \r\n                        total={response.articlesCount} \r\n                        limit={limit} \r\n                        currentPage={currentPage}\r\n                        url={url}\r\n                    />\r\n                </Fragment>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserArticles","import React, { useEffect } from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nimport useFetch from '../../hooks/useFetch'\r\nimport UserArticles from './components/userArticles'\r\n\r\nconst UserProfile = ({ location, match }) => {\r\n    const slug = match.params.slug\r\n    const isFavorites = location.pathname.includes('favorites')\r\n    const apiUrl = `/profiles/${slug}`\r\n    const [{ response }, doFetch] = useFetch(apiUrl)\r\n\r\n    useEffect(() => {\r\n        doFetch()\r\n    }, [doFetch, slug])\r\n    if (!response)\r\n        return null\r\n    return (\r\n        <div className='profile-page'>\r\n            <div className='user-info'>\r\n                <div className='container'>\r\n                    <div className='row'>\r\n                        <div className='col-xs-12 col-md-10 offset-md-1'>\r\n                            <img className='user-img' alt='' src={response.profile.image} />\r\n                            <h4>{response.profile.username}</h4>\r\n                            <p>{response.profile.bio}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className='container'>\r\n                <div className='row'>\r\n                    <div className='col-xs-12 col-md-10 offset-md-1'>\r\n                        <div className='article-toggle'>\r\n                            <ul className='nav nav-pills outline-active'>\r\n                                <li className='nav-item'>\r\n                                    <NavLink to={`${process.env.REACT_APP_MAIN_PATH}/profiles/${response.profile.username}`}\r\n                                        className='nav-link'\r\n                                        exact\r\n                                    >\r\n                                        My Posts\r\n                                    </NavLink>\r\n                                </li>\r\n                                <li className='nav-item'>\r\n                                    <NavLink to={`${process.env.REACT_APP_MAIN_PATH}/profiles/${response.profile.username}/favorites`}\r\n                                        className='nav-link'\r\n                                    >\r\n                                        Favorite Posts\r\n                                    </NavLink>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                        <UserArticles\r\n                            username={response.profile.username}\r\n                            location={location}\r\n                            isFavorites={isFavorites}\r\n                            url={location.pathname}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserProfile","import React from 'react'\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport GlobalFeed from './pages/globalFeed'\r\nimport Article from './pages/article'\r\nimport TagFeed from './pages/tagFeed'\r\nimport Settings from './pages/settings'\r\nimport YourFeed from './pages/yourFeed'\r\nimport CreateArticle from './pages/createArticle'\r\nimport EditArticle from './pages/editArticle'\r\nimport Authentication from './pages/authentication'\r\nimport UserProfile from './pages/userProfile'\r\n\r\nexport default () => {\r\n    return (\r\n        <Switch>\r\n            <Route path={`${process.env.REACT_APP_MAIN_PATH}/profiles/:slug`} component={UserProfile} />\r\n            <Route path={`${process.env.REACT_APP_MAIN_PATH}/profiles/:slug/favorites`} component={UserProfile} />\r\n            <Route path={`${process.env.REACT_APP_MAIN_PATH}/tags/:slug`} component={TagFeed} />\r\n            <Route path={`${process.env.REACT_APP_MAIN_PATH}/feed`} component={YourFeed} />\r\n            <Route path={`${process.env.REACT_APP_MAIN_PATH}/settings`} component={Settings} />\r\n            <Route path={`${process.env.REACT_APP_MAIN_PATH}/`} component={GlobalFeed} exact/>\r\n            <Route path={`${process.env.REACT_APP_MAIN_PATH}/login`} component={Authentication} />\r\n            <Route path={`${process.env.REACT_APP_MAIN_PATH}/register`} component={Authentication} />\r\n            <Route path={`${process.env.REACT_APP_MAIN_PATH}/article/new`} component={CreateArticle} />\r\n            <Route path={`${process.env.REACT_APP_MAIN_PATH}/article/:slug/edit`} component={EditArticle} />\r\n            <Route path={`${process.env.REACT_APP_MAIN_PATH}/article/:slug`} component={Article} />\r\n        </Switch>\r\n    )\r\n}","import React, { useContext, Fragment } from 'react'\r\nimport { NavLink, Link } from 'react-router-dom'\r\n\r\nimport { CurrentUserContext } from '../contexts/currentUser'\r\n\r\nconst TopBar = () => {\r\n    const [currentUserState] = useContext(CurrentUserContext)\r\n    return (\r\n        <nav className='navbar navbar-light'>\r\n            <div className='container'>\r\n                <Link to={`${process.env.REACT_APP_MAIN_PATH}/`} className='navbar-brand'>\r\n                    Medium\r\n                </Link>\r\n                <ul className='nav navbar-nav pull-xs-right'>\r\n                    <li className='nav-item'>\r\n                        <NavLink to={`${process.env.REACT_APP_MAIN_PATH}/`} className='nav-link' exact>\r\n                            Home\r\n                        </NavLink>\r\n                    </li>\r\n                    {currentUserState.isLogged === false && (\r\n                        <Fragment>\r\n                            <li className='nav-item'>\r\n                                <NavLink to={`${process.env.REACT_APP_MAIN_PATH}/login`} className='nav-link'>\r\n                                    Sign in\r\n                                </NavLink>\r\n                            </li>\r\n                            <li className='nav-item'>\r\n                                <NavLink to={`${process.env.REACT_APP_MAIN_PATH}/register`} className='nav-link'>\r\n                                    Sign up\r\n                                </NavLink>\r\n                            </li>\r\n                        </Fragment>\r\n                    )}\r\n                    {currentUserState.isLogged && (\r\n                        <Fragment>\r\n                            <li className='nav-item'>\r\n                                <NavLink to={`${process.env.REACT_APP_MAIN_PATH}/article/new`} className='nav-link'>\r\n                                    <i className='ion-compose'></i>\r\n                                    &nbsp; New Post\r\n                                </NavLink>\r\n                            </li>\r\n                            <li className='nav-item'>\r\n                                <NavLink to={`${process.env.REACT_APP_MAIN_PATH}/settings`} className='nav-link'>\r\n                                    <i className='ion-gear-a'></i>\r\n                                    &nbsp; Settings\r\n                                </NavLink>\r\n                            </li>\r\n                            <li className='nav-item'>\r\n                                <NavLink \r\n                                    to={`${process.env.REACT_APP_MAIN_PATH}/profiles/${currentUserState.currentUser.username}`} \r\n                                    className='nav-link'\r\n                                >\r\n                                    <img className='user-pic' src={currentUserState.currentUser.image} alt=''/>\r\n                                    &nbsp; {currentUserState.currentUser.username}\r\n                                </NavLink>\r\n                            </li>\r\n                        </Fragment>\r\n                    )}\r\n                </ul>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default TopBar","import {useEffect, useContext} from 'react'\r\n\r\nimport useFetch from '../hooks/useFetch'\r\nimport {CurrentUserContext} from '../contexts/currentUser'\r\nimport useLocalStorage from '../hooks/useLocalStorage'\r\n\r\nconst CurrentUserChecker = ({children}) =>{\r\n    const [{response}, doFetch] = useFetch('/user')\r\n    const [, dispatch] = useContext(CurrentUserContext)\r\n    const [token] = useLocalStorage('token')\r\n    useEffect(()=>{\r\n        //console.log('init')\r\n        if(!token){\r\n            dispatch({type: 'SET_UNAUTHORIZED'})\r\n            return\r\n        }\r\n        doFetch()\r\n        dispatch({type: 'LOADING'})\r\n    }, [dispatch, token, doFetch])\r\n    useEffect(()=>{\r\n        if(!response)\r\n            return\r\n        dispatch({type: 'SET_AUTHORIZED', payload: response.user})\r\n    }, [response, dispatch])\r\n    return(\r\n        children\r\n    )\r\n}\r\n\r\nexport default CurrentUserChecker","import React from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom'\n\nimport Routes from './modules/routes'\nimport TopBar from './modules/components/topBar'\nimport { CurrentUserProvider } from './modules/contexts/currentUser'\nimport CurrentUserChecker from './modules/components/currentUserChecker'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <CurrentUserProvider>\n        <CurrentUserChecker>\n          <Router>\n            <TopBar />\n            <Routes />\n          </Router>\n        </CurrentUserChecker>\n      </CurrentUserProvider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}